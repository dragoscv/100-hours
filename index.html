<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>100-Hour Day Clock & Metric Calendar Converter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen p-4">
    <div class="text-center max-w-3xl">
        <h1 class="text-4xl font-bold mb-4">100-Hour Day Clock</h1>

        <p class="mb-6">
            Welcome to the future of timekeeping! In our new system, a day is divided into
            <span class="font-semibold">100 metric hours</span> – each lasting 14.4 minutes.
            For those who love comparisons, the current UTC time is also displayed.
        </p>
        <p class="mb-6 text-sm text-gray-400">
            <strong>Why this will be the future calendar &amp; time keeping format:</strong>
            Our new system is simpler and more logical than traditional timekeeping. With 100 metric hours in a day, 100
            metric minutes in an hour, and 10 metric seconds in a minute, every part of the day is divided equally. This
            uniformity makes schedules predictable and planning straightforward for everyone.
            <br /><br />
            <strong>For children:</strong> Think of your day as one giant clock that goes from 00 to 99. It's like
            playing with a simple puzzle where every piece fits perfectly, making it easy to know when it's time to eat,
            play, or sleep!
            <br /><br />
            <strong>Comparison between calendars:</strong> The traditional Gregorian calendar has months of varying
            lengths and leap years, which can make planning tricky. In contrast, our metric calendar is consistent—each
            day always has exactly 100,000 metric seconds. This consistency means no more guessing how many days are in
            a month or adjusting for leap years.
            <br /><br />
            <strong>10 Example Use Cases:</strong>
        <ol>
            <li>Scheduling school classes and breaks with perfect timing.</li>
            <li>Planning sports events and matches exactly.</li>
            <li>Timing public transportation for punctual arrivals.</li>
            <li>Setting reminders for homework or chores.</li>
            <li>Designing futuristic smartwatches and clocks.</li>
            <li>Creating fun, time-based puzzles and learning games.</li>
            <li>Scheduling TV shows and online streaming programs.</li>
            <li>Organizing workouts and playtime sessions.</li>
            <li>Managing precise timelines for space missions.</li>
            <li>Coordinating international business meetings seamlessly.</li>
        </ol>
        <br />
        This new format helps everyone plan their day better, making time feel more balanced and predictable.
        </p>

        <!-- New Container for Cards -->
        <div class="flex flex-col md:flex-row gap-6">
            <!-- Time Display Card -->
            <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex-1">
                <div id="metricTime" class="text-2xl font-mono mb-2">
                    Metric Time: --:--:--
                </div>
                <div id="utcTime" class="text-xl font-mono">
                    UTC Time: --:--:--
                </div>
                <!-- Milliseconds Toggle Switch -->
                <div class="flex items-center justify-center mb-4">
                    <label for="toggleMilliseconds" class="mr-2">Display Milliseconds:</label>
                    <input type="checkbox" id="toggleMilliseconds" />
                </div>
            </div>

            <!-- Metric Calendar Card -->
            <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex-1">
                <h2 class="text-xl font-bold mb-2">Metric Calendar (since Jan 1, 2000)</h2>
                <div id="metricCalendarDisplay" class="text-lg">
                    Loading...
                </div>
            </div>
        </div>

        <!-- Date Converter Section -->
        <div class="mt-6 p-4 bg-gray-800 rounded-lg shadow-lg">
            <h2 class="text-xl font-bold mb-2">Forward Converter: UTC &rarr; Metric</h2>
            <p class="mb-2">Convert a UTC date into metric time and calendar date.</p>
            <label for="dateInput" class="block mb-2">Select a date and time:</label>
            <input type="datetime-local" id="dateInput" class="p-2 rounded text-black" placeholder="YYYY-MM-DDTHH:MM" />
            <button id="convertButton" class="p-2 bg-blue-500 rounded ml-2">Convert</button>
            <div id="converterResult" class="mt-2 text-lg"></div>
        </div>

        <!-- Reverse Converter Section -->
        <div class="mt-6 p-4 bg-gray-800 rounded-lg shadow-lg">
            <h2 class="text-xl font-bold mb-2">Reverse Converter: Metric &rarr; UTC</h2>
            <p class="mb-2">Enter metric calendar day and metric time (HH:MM:SS) to convert back to UTC.</p>
            <label for="metricDaysInput" class="block mb-2">Metric Days since Jan 1, 2000:</label>
            <input type="number" id="metricDaysInput" class="p-2 rounded text-black" placeholder="e.g., 100" />
            <label for="metricTimeInput" class="block mt-4 mb-2">Metric Time (HH:MM:SS):</label>
            <input type="text" id="metricTimeInput" class="p-2 rounded text-black" placeholder="e.g., 12:34:56" />
            <button id="reverseConvertButton" class="p-2 bg-blue-500 rounded ml-2 mt-4">Reverse Convert</button>
            <div id="reverseConverterResult" class="mt-2 text-lg"></div>
        </div>

        <!-- Detailed Explanation Section -->
        <div class="mt-6 p-4 bg-gray-800 rounded-lg shadow-lg text-left">
            <h2 class="text-xl font-bold mb-2">Detailed Explanation: Metric Time Computation</h2>
            <p class="mb-2">
                In our metric system, one day is redefined to consist of exactly 100,000 metric seconds. Contrast this
                with a standard day which has 86,400 seconds.
            </p>
            <p class="mb-2">
                The conversion factor is calculated as:
            </p>
            <p class="mb-2 font-mono">
                conversionFactor = 100,000 / 86,400 ≈ 1.15740741
            </p>
            <p class="mb-2">
                This means that every UTC second is multiplied by approximately 1.15741 to get the number of metric
                seconds elapsed in the day.
                Inversely, a metric second is:
            </p>
            <p class="mb-2 font-mono">
                1 metric second = 1 / conversionFactor ≈ 0.864 actual seconds
            </p>
            <p class="mb-2">
                <strong>Mathematical Breakdown:</strong> Suppose it is exactly 12:00:00 UTC. At this point, 43,200
                actual seconds have elapsed since midnight.
                The corresponding metric seconds would be:
            </p>
            <p class="mb-2 font-mono">
                metricTotalSeconds = 43,200 * (100,000 / 86,400) = 50,000 metric seconds
            </p>
            <p class="mb-2">
                Then, metric hours, minutes, and seconds are derived by dividing metricTotalSeconds appropriately:
            </p>
            <ul class="list-disc ml-6 mb-2">
                <li>1 metric hour = 1,000 metric seconds</li>
                <li>1 metric minute = 10 metric seconds</li>
                <li>1 metric second remains as the smallest unit, though it is shorter than a UTC second</li>
            </ul>
            <p>
                Because metric seconds are based on this conversion, they are not synchronized with the traditional
                60-second minute of UTC time. This is inherent to the new timekeeping system's structure.
            </p>
        </div>
    </div>

    <!-- Footer with links -->
    <footer class="mt-8 text-sm text-gray-400">
        <p>
            View the source on
            <a href="https://github.com/dragoscv/100-hours" class="underline hover:text-white" target="_blank"
                rel="noopener">GitHub</a>
            | Visit my website at
            <a href="https://dragoscatalin.ro" class="underline hover:text-white" target="_blank"
                rel="noopener">dragoscatalin.ro</a>
        </p>
    </footer>

    <!-- JavaScript code (converted to plain JavaScript) -->
    <script type="module">
        // Helper function to pad numbers with leading zeros.
        function pad(num, size = 2) {
            return num.toString().padStart(size, '0');
        }

        // Global flag for displaying milliseconds. Default is false.
        let showMilliseconds = false;

        // Listener for the milliseconds toggle switch.
        const toggleMilliseconds = document.getElementById("toggleMilliseconds");
        if (toggleMilliseconds) {
            toggleMilliseconds.addEventListener("change", (e) => {
                showMilliseconds = e.target.checked;
            });
        }

        // Constants.
        const METRIC_SECONDS_PER_DAY = 100000; // 100,000 metric seconds per day

        // Update the clock display.
        function updateClock() {
            const now = new Date();

            // Current UTC components.
            const utcHours = now.getUTCHours();
            const utcMinutes = now.getUTCMinutes();
            const utcSeconds = now.getUTCSeconds();
            const utcMilliseconds = now.getUTCMilliseconds();

            // Total actual seconds since midnight UTC.
            const totalUTCSeconds =
                utcHours * 3600 + utcMinutes * 60 + utcSeconds + utcMilliseconds / 1000;

            const secondsPerDay = 86400;      // Actual seconds per day.
            const conversionFactor = METRIC_SECONDS_PER_DAY / secondsPerDay;

            // Calculate metric time.
            const metricTotalSeconds = totalUTCSeconds * conversionFactor;
            const metricHours = Math.floor(metricTotalSeconds / 1000);
            const remainderAfterHours = metricTotalSeconds - metricHours * 1000;
            const metricMinutes = Math.floor(remainderAfterHours / 10);
            const remainderAfterMinutes = remainderAfterHours - metricMinutes * 10;
            const metricSeconds = Math.floor(remainderAfterMinutes);
            const metricMilliseconds = Math.floor((remainderAfterMinutes - metricSeconds) * 1000);

            // Format times based on the showMilliseconds flag.
            let formattedUTCTime, formattedMetricTime;
            if (showMilliseconds) {
                formattedUTCTime = `${pad(utcHours)}:${pad(utcMinutes)}:${pad(utcSeconds)}.${pad(utcMilliseconds, 3)}`;
                formattedMetricTime = `${pad(metricHours, 2)}:${pad(metricMinutes, 2)}:${pad(metricSeconds, 2)}.${pad(metricMilliseconds, 3)}`;
            } else {
                formattedUTCTime = `${pad(utcHours)}:${pad(utcMinutes)}:${pad(utcSeconds)}`;
                formattedMetricTime = `${pad(metricHours, 2)}:${pad(metricMinutes, 2)}:${pad(metricSeconds, 2)}`;
            }

            // Update DOM elements.
            const metricTimeElem = document.getElementById('metricTime');
            const utcTimeElem = document.getElementById('utcTime');
            if (metricTimeElem) {
                metricTimeElem.textContent = 'Metric Time: ' + formattedMetricTime;
            }
            if (utcTimeElem) {
                utcTimeElem.textContent = 'UTC Time: ' + formattedUTCTime;
            }
        }

        // Date converter function.
        const convertButton = document.getElementById("convertButton");
        if (convertButton) {
            convertButton.addEventListener("click", function () {
                const dateInput = document.getElementById("dateInput");
                if (dateInput && dateInput.value) {
                    const inputDate = new Date(dateInput.value);
                    const utcHours = inputDate.getUTCHours();
                    const utcMinutes = inputDate.getUTCMinutes();
                    const utcSeconds = inputDate.getUTCSeconds();
                    const utcMilliseconds = inputDate.getUTCMilliseconds();

                    const totalUTCSeconds =
                        utcHours * 3600 + utcMinutes * 60 + utcSeconds + utcMilliseconds / 1000;
                    const secondsPerDay = 86400;
                    const conversionFactor = METRIC_SECONDS_PER_DAY / secondsPerDay;
                    const metricTotalSeconds = totalUTCSeconds * conversionFactor;
                    const metricHours = Math.floor(metricTotalSeconds / 1000);
                    const remainderAfterHours = metricTotalSeconds % 1000;
                    const metricMinutes = Math.floor(remainderAfterHours / 10);
                    const metricSeconds = Math.floor(remainderAfterHours % 10);

                    let formattedMetricTime;
                    if (showMilliseconds) {
                        // Recalculate metric milliseconds for completeness.
                        const metricMilliseconds = Math.floor((metricTotalSeconds - Math.floor(metricTotalSeconds)) * 1000);
                        formattedMetricTime = `${pad(metricHours, 2)}:${pad(metricMinutes, 2)}:${pad(metricSeconds, 2)}.${pad(metricMilliseconds, 3)}`;
                    } else {
                        formattedMetricTime = `${pad(metricHours, 2)}:${pad(metricMinutes, 2)}:${pad(metricSeconds, 2)}`;
                    }

                    // Metric Calendar Conversion for the input date.
                    const referenceDate = new Date("2000-01-01T00:00:00Z");
                    const elapsedSeconds = (inputDate - referenceDate) / 1000;
                    const totalMetricSecFromRef = elapsedSeconds * conversionFactor;
                    const metricDays = Math.floor(totalMetricSecFromRef / METRIC_SECONDS_PER_DAY);
                    const metricWeeks = Math.floor(metricDays / 10);
                    const metricMonths = Math.floor(metricDays / 30);
                    const metricYears = Math.floor(metricDays / 300);
                    const metricDecades = Math.floor(metricDays / 3000);
                    const metricCenturies = Math.floor(metricDays / 30000);
                    const metricMillennia = Math.floor(metricDays / 300000);
                    const calendarText = `Days: ${metricDays}, Weeks: ${metricWeeks}, Months: ${metricMonths}, Years: ${metricYears}, Decades: ${metricDecades}, Centuries: ${metricCenturies}, Millennia: ${metricMillennia}`;

                    const converterResult = document.getElementById("converterResult");
                    if (converterResult) {
                        converterResult.innerHTML = "<strong>Metric Time:</strong> " + formattedMetricTime +
                            "<br/><strong>Metric Calendar:</strong> " + calendarText;
                    }
                }
            });
        }

        // Function to update the metric calendar display.
        function updateCalendar() {
            const referenceDate = new Date("2000-01-01T00:00:00Z");
            const now = new Date();
            const elapsedSeconds = (now - referenceDate) / 1000;
            const conversionFactor = METRIC_SECONDS_PER_DAY / 86400;
            const totalMetricSeconds = elapsedSeconds * conversionFactor;
            const metricDays = Math.floor(totalMetricSeconds / METRIC_SECONDS_PER_DAY);
            const metricWeeks = Math.floor(metricDays / 10);
            const metricMonths = Math.floor(metricDays / 30);
            const metricYears = Math.floor(metricDays / 300);
            const metricDecades = Math.floor(metricDays / 3000);
            const metricCenturies = Math.floor(metricDays / 30000);
            const metricMillennia = Math.floor(metricDays / 300000);

            const displayText = `Days: ${metricDays}, Weeks: ${metricWeeks}, Months: ${metricMonths}, Years: ${metricYears}, Decades: ${metricDecades}, Centuries: ${metricCenturies}, Millennia: ${metricMillennia}`;
            const calendarElem = document.getElementById("metricCalendarDisplay");
            if (calendarElem) {
                calendarElem.textContent = displayText;
            }
        }

        // Start the clock and calendar updates.
        setInterval(() => { updateClock(); updateCalendar(); }, 100);
        updateClock();
        updateCalendar();

        // Reverse converter: Convert Metric (calendar + time) back to UTC.
        const reverseConvertButton = document.getElementById("reverseConvertButton");
        if (reverseConvertButton) {
            reverseConvertButton.addEventListener("click", function () {
                const metricDaysInput = document.getElementById("metricDaysInput").value;
                const metricTimeInput = document.getElementById("metricTimeInput").value;
                if (!metricDaysInput || !metricTimeInput) return;
                const days = parseInt(metricDaysInput, 10);
                const parts = metricTimeInput.split(":").map(p => p.trim());
                if (parts.length !== 3 ||
                    isNaN(parseInt(parts[0], 10)) ||
                    isNaN(parseInt(parts[1], 10)) ||
                    isNaN(parseInt(parts[2], 10))) {
                    alert("Please enter metric time in HH:MM:SS format.");
                    return;
                }
                const hours = parseInt(parts[0], 10);
                const minutes = parseInt(parts[1], 10);
                const seconds = parseInt(parts[2], 10);
                const metricTimeSec = hours * 1000 + minutes * 10 + seconds;
                const totalMetricSec = days * METRIC_SECONDS_PER_DAY + metricTimeSec;
                const actualSeconds = totalMetricSec * (86400 / METRIC_SECONDS_PER_DAY);
                const referenceDate = new Date("2000-01-01T00:00:00Z");
                const utcDate = new Date(referenceDate.getTime() + actualSeconds * 1000);
                const reverseConverterResult = document.getElementById("reverseConverterResult");
                if (reverseConverterResult) {
                    reverseConverterResult.textContent = "UTC Date: " + utcDate.toUTCString();
                }
            });
        }
    </script>
</body>

</html>